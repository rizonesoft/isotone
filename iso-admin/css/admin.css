/**
 * Isotone Admin CSS
 * Consolidated styles for admin interface
 * 
 * @package Isotone
 * @version 1.0.0
 */

/* ==========================================================================
   Base Styles & FOUC Prevention
   ========================================================================== */

/* Prevent FOUC - Critical Styles */
html {
    min-height: 100%;
}

body {
    margin: 0;
    padding: 0;
    min-height: 100vh;
}

/* Override Tailwind's h-full to ensure proper background */
body.min-h-full {
    min-height: 100vh !important;
    height: auto !important;
}

/* Ensure main content area extends full height */
main {
    min-height: calc(100vh - 4rem); /* Subtract header height */
}

/* Layout container background */
.flex.pt-16 {
    min-height: calc(100vh - 4rem);
}

/* Hide Alpine.js elements until loaded */
[x-cloak] {
    display: none !important;
}

/* ==========================================================================
   Loading Overlay
   ========================================================================== */

.admin-loading {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: #111827;
    z-index: 9999;
    display: flex;
    align-items: center;
    justify-content: center;
}

.admin-loading.fade-out {
    opacity: 0;
    transition: opacity 0.3s ease;
    pointer-events: none;
}

/* Spinner styles are defined in critical.css for FOUC prevention */

@keyframes spin {
    to {
        transform: rotate(360deg);
    }
}

/* ==========================================================================
   Breadcrumb Styles
   ========================================================================== */

/* Consistent breadcrumb styling across all pages */
main > div:first-child {
    padding: 1rem 2rem;
    border-bottom: 1px solid #374151;
    background-color: transparent;
}

/* Breadcrumb text styling */
main > div:first-child nav {
    font-size: 0.875rem;
    line-height: 1.25rem;
}

/* Page content area - ensure consistent padding */
main > div:last-child {
    padding: 2rem !important;
}

/* ==========================================================================
   Sidebar Styles
   ========================================================================== */

.sidebar-transition {
    transition: all 0.3s ease;
}

/* ==========================================================================
   Custom Scrollbar
   ========================================================================== */

::-webkit-scrollbar {
    width: 10px;
    height: 10px;
}

/* Track - subtle inset with glass effect */
::-webkit-scrollbar-track {
    background: rgba(229, 231, 235, 0.8); /* Light gray with opacity */
    box-shadow: inset 0 0 2px rgba(0, 0, 0, 0.1);
}

.dark ::-webkit-scrollbar-track,
html.dark ::-webkit-scrollbar-track {
    background: rgba(31, 41, 55, 0.8); /* Dark gray with opacity */
    box-shadow: inset 0 0 2px rgba(0, 0, 0, 0.3);
}


/* Thumb - sleek with gradient and glow */
::-webkit-scrollbar-thumb {
    background: linear-gradient(135deg, 
        rgba(6, 182, 212, 0.7) 0%,
        rgba(6, 182, 212, 0.5) 50%,
        rgba(34, 211, 238, 0.6) 100%);
    border-radius: 10px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    box-shadow: 
        0 0 1px rgba(255, 255, 255, 0.5) inset,
        0 2px 4px rgba(0, 0, 0, 0.1);
    transition: all 0.3s ease;
}

::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(135deg, 
        rgba(6, 182, 212, 0.9) 0%,
        rgba(6, 182, 212, 0.7) 50%,
        rgba(34, 211, 238, 0.8) 100%);
    box-shadow: 
        0 0 1px rgba(255, 255, 255, 0.7) inset,
        0 2px 6px rgba(0, 0, 0, 0.15),
        0 0 12px rgba(6, 182, 212, 0.3);
}

::-webkit-scrollbar-thumb:active {
    background: linear-gradient(135deg, 
        rgba(6, 182, 212, 1) 0%,
        rgba(6, 182, 212, 0.8) 50%,
        rgba(34, 211, 238, 0.9) 100%);
    box-shadow: 
        0 0 2px rgba(255, 255, 255, 0.8) inset,
        0 1px 3px rgba(0, 0, 0, 0.2),
        0 0 16px rgba(6, 182, 212, 0.4);
}

/* Dark mode thumb adjustments */
html.dark ::-webkit-scrollbar-thumb {
    background: linear-gradient(135deg, 
        rgba(34, 211, 238, 0.6) 0%,
        rgba(6, 182, 212, 0.4) 50%,
        rgba(34, 211, 238, 0.5) 100%);
    border: 1px solid rgba(255, 255, 255, 0.05);
    box-shadow: 
        0 0 1px rgba(255, 255, 255, 0.2) inset,
        0 2px 4px rgba(0, 0, 0, 0.3);
}

html.dark ::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(135deg, 
        rgba(34, 211, 238, 0.8) 0%,
        rgba(6, 182, 212, 0.6) 50%,
        rgba(34, 211, 238, 0.7) 100%);
    box-shadow: 
        0 0 2px rgba(255, 255, 255, 0.3) inset,
        0 2px 6px rgba(0, 0, 0, 0.4),
        0 0 15px rgba(34, 211, 238, 0.4);
}

/* Corner where scrollbars meet */
::-webkit-scrollbar-corner {
    background: transparent;
}

/* Scrollbar buttons - match track background */
::-webkit-scrollbar-button {
    background: rgba(229, 231, 235, 0.8); /* Same as track */
    border: none;
    height: 10px;
    width: 10px;
}

::-webkit-scrollbar-button:hover {
    background: rgba(209, 213, 219, 0.9); /* Slightly darker on hover */
}

::-webkit-scrollbar-button:active {
    background: rgba(156, 163, 175, 1); /* Even darker when clicked */
}

/* Dark mode button styles */
html.dark ::-webkit-scrollbar-button {
    background: rgba(31, 41, 55, 0.8); /* Same as dark track */
}

html.dark ::-webkit-scrollbar-button:hover {
    background: rgba(55, 65, 81, 0.9); /* Slightly lighter on hover */
}

html.dark ::-webkit-scrollbar-button:active {
    background: rgba(75, 85, 99, 1); /* Even lighter when clicked */
}

/* Minimalist chevron arrows - vertical */
::-webkit-scrollbar-button:vertical:decrement {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='10' height='10' viewBox='0 0 10 10'%3E%3Cpath fill='none' stroke='%2306b6d4' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round' d='M2 6L5 3L8 6'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: center;
}

::-webkit-scrollbar-button:vertical:increment {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='10' height='10' viewBox='0 0 10 10'%3E%3Cpath fill='none' stroke='%2306b6d4' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round' d='M2 4L5 7L8 4'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: center;
}

/* Minimalist chevron arrows - horizontal */
::-webkit-scrollbar-button:horizontal:decrement {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='10' height='10' viewBox='0 0 10 10'%3E%3Cpath fill='none' stroke='%2306b6d4' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round' d='M6 2L3 5L6 8'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: center;
}

::-webkit-scrollbar-button:horizontal:increment {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='10' height='10' viewBox='0 0 10 10'%3E%3Cpath fill='none' stroke='%2306b6d4' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round' d='M4 2L7 5L4 8'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: center;
}

/* Dark mode arrows - lighter cyan */
html.dark ::-webkit-scrollbar-button:vertical:decrement {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='10' height='10' viewBox='0 0 10 10'%3E%3Cpath fill='none' stroke='%2322d3ee' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round' d='M2 6L5 3L8 6'/%3E%3C/svg%3E");
}

html.dark ::-webkit-scrollbar-button:vertical:increment {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='10' height='10' viewBox='0 0 10 10'%3E%3Cpath fill='none' stroke='%2322d3ee' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round' d='M2 4L5 7L8 4'/%3E%3C/svg%3E");
}

html.dark ::-webkit-scrollbar-button:horizontal:decrement {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='10' height='10' viewBox='0 0 10 10'%3E%3Cpath fill='none' stroke='%2322d3ee' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round' d='M6 2L3 5L6 8'/%3E%3C/svg%3E");
}

html.dark ::-webkit-scrollbar-button:horizontal:increment {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='10' height='10' viewBox='0 0 10 10'%3E%3Cpath fill='none' stroke='%2322d3ee' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round' d='M4 2L7 5L4 8'/%3E%3C/svg%3E");
}

/* Single arrow at each end only */
::-webkit-scrollbar-button:vertical:start:increment,
::-webkit-scrollbar-button:vertical:end:decrement,
::-webkit-scrollbar-button:horizontal:start:increment,
::-webkit-scrollbar-button:horizontal:end:decrement {
    display: none;
}

/* ==========================================================================
   Toast Notifications
   ========================================================================== */

@keyframes slideIn {
    from {
        transform: translateX(100%);
        opacity: 0;
    }
    to {
        transform: translateX(0);
        opacity: 1;
    }
}

.toast-enter {
    animation: slideIn 0.3s ease-out;
}

/* ==========================================================================
   Collapsible Details Elements
   ========================================================================== */

details summary {
    list-style: none;
    cursor: pointer;
}

details summary::-webkit-details-marker,
details summary::marker {
    display: none;
}

details > summary:first-of-type {
    list-style-type: none;
}

details summary::before {
    content: '';
    display: inline-block;
    width: 1.25rem;
    height: 1.25rem;
    margin-right: 0.5rem;
    background: currentColor;
    mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='currentColor'%3E%3Cpath fill-rule='evenodd' d='M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z' clip-rule='evenodd'/%3E%3C/svg%3E");
    mask-size: contain;
    mask-repeat: no-repeat;
    transition: transform 0.2s;
    vertical-align: middle;
    position: relative;
    top: -1px;
}

details[open] summary::before {
    transform: rotate(90deg);
}

/* ==========================================================================
   Print Styles
   ========================================================================== */

@media print {
    .admin-loading,
    .sidebar,
    .toast {
        display: none !important;
    }
    
    body {
        background: white;
        color: black;
    }
}